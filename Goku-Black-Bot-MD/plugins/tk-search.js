/* Créditos a
- @Sebastian-Barboza
*/
const _0x2c84ea=_0x25d7;(function(_0x3a0445,_0x165358){const _0x2094a9=_0x25d7,_0x1c918f=_0x3a0445();while(!![]){try{const _0x557b41=parseInt(_0x2094a9(0xb4))/0x1*(parseInt(_0x2094a9(0xb1))/0x2)+-parseInt(_0x2094a9(0xb6))/0x3*(parseInt(_0x2094a9(0xc9))/0x4)+-parseInt(_0x2094a9(0xba))/0x5*(-parseInt(_0x2094a9(0xc2))/0x6)+-parseInt(_0x2094a9(0xab))/0x7+-parseInt(_0x2094a9(0xbb))/0x8+-parseInt(_0x2094a9(0xb5))/0x9+parseInt(_0x2094a9(0xb7))/0xa;if(_0x557b41===_0x165358)break;else _0x1c918f['push'](_0x1c918f['shift']());}catch(_0xae6647){_0x1c918f['push'](_0x1c918f['shift']());}}}(_0x5666,0xca97f));import _0x33d666 from'node-fetch';let tiktokSessions=new Map();const tiktokHandler=async(_0x2f4656,{conn:_0xd6215d,command:_0x1835c0,args:_0x4469aa,usedPrefix:_0x43e1a7})=>{const _0x4eaa04=_0x25d7;let _0x3b4ff3=_0x4469aa[_0x4eaa04(0xb0)]('\x20')['trim'](),_0x2469e5=tiktokSessions['get'](_0x2f4656[_0x4eaa04(0xaf)])||{'videos':[],'currentIndex':0x0,'query':_0x3b4ff3||''};if(_0x1835c0==='tksearch'){if(!_0x3b4ff3)return _0xd6215d[_0x4eaa04(0xbd)](_0x2f4656['chat'],_0x4eaa04(0xbe)+_0x43e1a7+_0x4eaa04(0xbf),_0x2f4656);_0x2469e5={'videos':[],'currentIndex':0x0,'query':_0x3b4ff3},tiktokSessions[_0x4eaa04(0xc5)](_0x2f4656[_0x4eaa04(0xaf)],_0x2469e5);try{const _0x13598d=_0x4eaa04(0xcd)+encodeURIComponent(_0x3b4ff3),_0x13d649=await _0x33d666(_0x13598d),_0x16972d=await _0x13d649['json']();if(!_0x16972d['meta']||!_0x16972d[_0x4eaa04(0xb8)][_0x4eaa04(0xc4)])return _0xd6215d[_0x4eaa04(0xbd)](_0x2f4656[_0x4eaa04(0xaf)],_0x4eaa04(0xca),_0x2f4656);return _0x2469e5['videos']=_0x16972d['meta'],tiktokSessions[_0x4eaa04(0xc5)](_0x2f4656[_0x4eaa04(0xaf)],_0x2469e5),await sendVideoWithButtons(_0x2469e5,_0x2f4656,_0xd6215d,_0x43e1a7);}catch(_0x425f2e){return console[_0x4eaa04(0xc8)](_0x425f2e),_0xd6215d[_0x4eaa04(0xbd)](_0x2f4656[_0x4eaa04(0xaf)],'❌\x20Error\x20al\x20buscar\x20videos',_0x2f4656);}}if(_0x1835c0===_0x4eaa04(0xb3)){if(!_0x2469e5[_0x4eaa04(0xc7)][_0x4eaa04(0xc4)])return _0xd6215d[_0x4eaa04(0xbd)](_0x2f4656[_0x4eaa04(0xaf)],_0x4eaa04(0xcb),_0x2f4656);if(_0x2469e5['currentIndex']+0x1>=_0x2469e5[_0x4eaa04(0xc7)][_0x4eaa04(0xc4)])return _0xd6215d['reply'](_0x2f4656[_0x4eaa04(0xaf)],_0x4eaa04(0xc0),_0x2f4656);return _0x2469e5[_0x4eaa04(0xc6)]+=0x1,tiktokSessions[_0x4eaa04(0xc5)](_0x2f4656[_0x4eaa04(0xaf)],_0x2469e5),await sendVideoWithButtons(_0x2469e5,_0x2f4656,_0xd6215d,_0x43e1a7);}};async function sendVideoWithButtons(_0x6d01e,_0x210ce8,_0x343ea2,_0x5a00d5){const _0x3536c5=_0x25d7,_0xbdaef6=_0x6d01e[_0x3536c5(0xc7)][_0x6d01e[_0x3536c5(0xc6)]],_0x363baa=_0x6d01e[_0x3536c5(0xc6)]===0x0?_0x3536c5(0xc3):_0x3536c5(0xcc);try{const _0x32f772=[];_0x6d01e[_0x3536c5(0xc6)]+0x1<_0x6d01e[_0x3536c5(0xc7)][_0x3536c5(0xc4)]&&_0x32f772[_0x3536c5(0xbc)]({'buttonId':_0x5a00d5+_0x3536c5(0xb3),'buttonText':{'displayText':'➡️\x20Siguiente\x20Video'},'type':0x1}),await _0x343ea2[_0x3536c5(0xb9)](_0x210ce8[_0x3536c5(0xaf)],{'video':{'url':_0xbdaef6['hd']},'caption':_0x363baa,'buttons':_0x32f772,'viewOnce':!![]},{'quoted':_0x210ce8});}catch(_0x4784aa){console[_0x3536c5(0xc8)](_0x4784aa),_0x343ea2[_0x3536c5(0xbd)](_0x210ce8[_0x3536c5(0xaf)],_0x3536c5(0xc1),_0x210ce8);}}function _0x5666(){const _0x2a03b6=['videos','error','84GmdRQt','❌\x20No\x20se\x20encontraron\x20videos','❌\x20Primero\x20usa\x20.tksearch\x20para\x20buscar\x20videos','_*©Prohibido\x20La\x20Copia,\x20Código\x20Oficial\x20De\x20GokuBlack\x20Bot*_','https://delirius-apiofc.vercel.app/search/tiktoksearch?query=','4553668owYHBl','command','tksearch\x20<búsqueda>','help','chat','join','2868Blyfcl','tags','tkseguir','299veNocn','12115206ZnAgkt','154839yvPXJx','30290000CPhdMg','meta','sendMessage','25235kjevzj','295768EqFGkK','push','reply','❌\x20Escribe\x20lo\x20que\x20quieres\x20buscar\x0aEjemplo:\x20','tksearch\x20Videos\x20Graciosos\x20','✅\x20No\x20hay\x20más\x20videos,\x20vuelve\x20a\x20buscar.','❌\x20Error\x20al\x20enviar\x20el\x20video','582hrhmTx','✅\x20Usa\x20el\x20botón\x20para\x20ver\x20más\x20videos.\x0a\x0a_*©Prohibido\x20La\x20Copia,\x20Código\x20Oficial\x20De\x20Barboza\x20Bot\x20™*_','length','set','currentIndex'];_0x5666=function(){return _0x2a03b6;};return _0x5666();}tiktokHandler[_0x2c84ea(0xae)]=[_0x2c84ea(0xad),'tkseguir'],tiktokHandler[_0x2c84ea(0xb2)]=['search','tiktok'],tiktokHandler[_0x2c84ea(0xac)]=/^(tksearch|tkseguir)$/i;function _0x25d7(_0x20615c,_0x4ae861){const _0x56668c=_0x5666();return _0x25d7=function(_0x25d7e,_0x56c173){_0x25d7e=_0x25d7e-0xab;let _0x4a35a0=_0x56668c[_0x25d7e];return _0x4a35a0;},_0x25d7(_0x20615c,_0x4ae861);}export default tiktokHandler;